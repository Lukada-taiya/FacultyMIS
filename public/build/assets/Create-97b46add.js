import{A as k}from"./AppLayout-06760a45.js";import{_ as C}from"./SecondaryButton-ec7c4f46.js";import{T as S,i as j,O as p,j as m,o as i,c as T,w as _,a as e,h as B,m as g,P as V,d as n,t as l,g as u,N as b,f as h,F as f,b as x,e as A,n as L}from"./app-d0923fc1.js";import{C as U,E as q,B as F,I as O,P as I,U as N,S as P,a as E,b as M,A as R,F as z,c as D,H,d as W,L as G,e as J,f as K,g as Q}from"./indentblock-f7a62348.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";const Y={props:{users:Array,errors:Object,user:String,subject:String},data(){return{editor:U,editorConfig:{plugins:[q,F,O,I,N,P,E,M,R,z,D,H,W,G,J,K,Q],toolbar:{items:["undo","redo","|","bold","italic","underline","fontSize","fontFamily","|","alignment","heading","bulletedList","numberedList","indent","outdent","link","findAndReplace","strikethrough","subscript","superscript"]}},form:S({subject:this.subject,recipient:this.user,through:{},body:""}),through_users:this.users,numOfThrough:1}},components:{AppLayout:k,Link:j,SecondaryButton:C},methods:{addThroughInput(){this.numOfThrough++},populateThroughUsers(){this.through_users=this.users.filter(c=>c.id!==this.form.recipient)},returnBack(){p.get("/requests")},submit(){p.post("/requests",this.form)}}},Z={class:"bg-gray-100 flex-1 p-6 md:mt-16"},$={class:"mt-6 max-w-3xl mx-auto py-10 sm:px-6 lg:px-8"},ee=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"}," Make New Request "),e("p",{class:"mt-1 mb-5 text-sm text-gray-600"}," Send a request to the faculty if you have any issues ")],-1),te={class:"px-4 py-5 bg-white sm:p-6 shadow sm:rounded-tl-md sm:rounded-tr-md"},se={class:"space-y-12"},oe={class:"border-b border-gray-900/10 pb-12"},ie={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},ne={class:"sm:col-span-4"},re=e("label",{for:"subject",class:"block text-sm font-medium leading-6 text-gray-900"},"Subject",-1),le={class:"mt-2"},de={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ae=["textContent"],ue={class:"sm:col-span-full mt-5"},ce=e("label",{for:"recipient",class:"block text-sm font-medium leading-6 text-gray-900"},"To",-1),me={class:"mt-2"},ge={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},he=e("option",{value:"",disabled:"",hidden:"",selected:""}," Select recipient of the request... ",-1),fe=["value","selected"],pe=["textContent"],_e={for:"recipient",class:"block text-sm font-medium leading-6 text-gray-900"},be={class:"mt-2"},xe={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ye=["onUpdate:modelValue","name","id"],ve=e("option",{value:"",disabled:"",hidden:"",selected:""}," Select recipients the request will pass through... ",-1),we=["value","selected"],ke=["textContent"],Ce={class:"sm:col-span-full mt-5"},Se={class:"flex justify-between"},je=e("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"Request",-1),Te=["href"],Be={class:"mt-2"},Ve={class:"rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},Ae=["textContent"],Le={class:"mt-6 flex items-center justify-end gap-x-6"},Ue=["disabled"];function qe(c,o,r,Fe,s,d){const y=m("SecondaryButton"),v=m("ckeditor"),w=m("AppLayout");return i(),T(w,null,{default:_(()=>[e("div",Z,[e("div",null,[e("div",$,[ee,e("div",te,[e("div",null,[e("form",{onSubmit:o[5]||(o[5]=B(t=>d.submit(),["prevent"])),enctype:"multipart/form-data"},[e("div",se,[e("div",oe,[e("div",ie,[e("div",ne,[re,e("div",le,[e("div",de,[g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.form.subject=t),type:"text",name:"subject",id:"subject",autocomplete:"subject",class:"block flex-1 border-0 bg-transparent p-3 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"What is the request about..."},null,512),[[V,s.form.subject]])]),r.errors.subject?(i(),n("div",{key:0,textContent:l(r.errors.subject),class:"mt-1 font-bold text-sm text-red-500"},null,8,ae)):u("",!0)])]),e("div",ue,[ce,e("div",me,[e("div",ge,[g(e("select",{onChange:o[1]||(o[1]=(...t)=>d.populateThroughUsers&&d.populateThroughUsers(...t)),"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.recipient=t),name:"recipient",id:"recipient",autocomplete:"recipient",class:"block p-3 flex-1 border-0 bg-transparent text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"},[he,(i(!0),n(f,null,h(r.users,t=>(i(),n("option",{key:t.id,value:t.id,selected:t},l(t.name),9,fe))),128))],544),[[b,s.form.recipient]])]),r.errors.recipient?(i(),n("div",{key:0,textContent:l(r.errors.recipient),class:"mt-1 font-bold text-sm text-red-500"},null,8,pe)):u("",!0)])]),e("div",null,[x(y,{onClick:d.addThroughInput},{default:_(()=>[A("Add Through")]),_:1},8,["onClick"])]),(i(!0),n(f,null,h(s.numOfThrough,t=>(i(),n("div",{key:t,class:"sm:col-span-full mt-5"},[e("label",_e,"Through "+l(t),1),e("div",be,[e("div",xe,[g(e("select",{"onUpdate:modelValue":a=>s.form.through[t]=a,name:"through "+t,id:"through "+t,autocomplete:"through",class:"block p-3 flex-1 border-0 bg-transparent text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"},[ve,(i(!0),n(f,null,h(s.through_users,a=>(i(),n("option",{key:a.id,value:a.id,selected:a},l(a.name),9,we))),128))],8,ye),[[b,s.form.through[t]]])]),r.errors.through?(i(),n("div",{key:0,textContent:l(r.errors.through),class:"mt-1 font-bold text-sm text-red-500"},null,8,ke)):u("",!0)])]))),128)),e("div",Ce,[e("div",Se,[je,e("div",null,[e("a",{target:"_blank",href:c.route("requests.view",{data:s.form.body}),class:"rounded-md bg-gray-700 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Preview ",8,Te)])]),e("div",Be,[e("div",Ve,[x(v,{editor:s.editor,modelValue:s.form.body,"onUpdate:modelValue":o[3]||(o[3]=t=>s.form.body=t),config:s.editorConfig},null,8,["editor","modelValue","config"])]),r.errors.body?(i(),n("div",{key:0,textContent:l(r.errors.body),class:"mt-1 font-bold text-sm text-red-500"},null,8,Ae)):u("",!0)])])])])]),e("div",Le,[e("button",{onClick:o[4]||(o[4]=(...t)=>d.returnBack&&d.returnBack(...t)),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"}," Cancel "),e("button",{class:L([{"opacity-25":s.form.processing},"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"]),disabled:s.form.processing,type:"submit"}," Send ",10,Ue)])],32)])])])])])]),_:1})}const Me=X(Y,[["render",qe]]);export{Me as default};
