import{A as g}from"./AppLayout-e8d84490.js";import{T as w,o,d as a,a as e,s as B,h as C,m as S,P as $,n as j,p as v,k as x,t as i,O as p,j as _,c as f,w as b,g as m,b as A,F as I,f as q}from"./app-6c5b59c0.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";const O={props:{thread:Number},data(){return{form:w({remark:"",threadId:this.thread})}},methods:{submit(){this.$emit("post",this.form)}}},L=s=>(v("data-v-04bb1ad3"),s=s(),x(),s),N={class:"detailBox"},V=L(()=>e("div",{class:"titleBox"},[e("label",null,"Remarks")],-1)),D={class:"actionBox"},F={class:"commentList p-6"},P={class:"text-center"},T={class:"form-group"},E={class:"form-group ml-2"},M=["disabled"];function R(s,d,t,h,r,n){return o(),a("div",N,[V,e("div",D,[e("ul",F,[B(s.$slots,"default",{},void 0,!0)]),e("div",P,[e("form",{onSubmit:d[1]||(d[1]=C((...c)=>n.submit&&n.submit(...c),["prevent"])),class:"form-inline",role:"form"},[e("div",T,[S(e("input",{"onUpdate:modelValue":d[0]||(d[0]=c=>r.form.remark=c),class:"form-control",type:"text",placeholder:"Add a remark..."},null,512),[[$,r.form.remark]])]),e("div",E,[e("button",{class:j([{"opacity-25":r.form.processing},"btn btn-default"]),disabled:r.form.processing}," Add ",10,M)])],32)])])])}const z=u(O,[["render",R],["__scopeId","data-v-04bb1ad3"]]);const U={props:{data:Object}},Y=s=>(v("data-v-60f86e10"),s=s(),x(),s),G={class:"py-4"},H=Y(()=>e("div",{class:"commenterImage"},[e("img",{src:"http://placekitten.com/50/50"})],-1)),J={class:"commentText"},K={class:"text-sm text-gray-500 font-semibold"},Q={class:"p-2 pl-3"},W={class:"text-right"},X={class:"date sub-text"};function Z(s,d,t,h,r,n){return o(),a("li",G,[H,e("div",J,[e("p",K,i(s.$page.props.auth.user.id===t.data.sender.id?"You":t.data.sender.name),1),e("p",Q,i(t.data.body),1),e("div",W,[e("span",X,i(t.data.date_created),1)])])])}const ee=u(U,[["render",Z],["__scopeId","data-v-60f86e10"]]),te={props:{thread:Object,sender:Object,remarks:Object,request:String,approved:String},components:{AppLayout:g,Comment:ee,CommentBox:z},data(){return{remark:""}},methods:{returnBack(){p.get("/requests")},submit(s){p.post("/remarks/add",s)}}},se={class:"bg-gray-100 flex-1 p-6 md:mt-16"},oe={class:"mt-6 max-w-4xl mx-auto py-10 sm:px-6 lg:px-8"},de={class:"px-4 py-5 bg-white sm:p-6 shadow sm:rounded-tl-md sm:rounded-tr-md"},ae={class:"flex justify-between items-center h-12"},ne=e("span",{class:"text-xl fad fa-arrow-left"},null,-1),re=[ne],ie={class:"ml-4"},ce=["href"],le=["href"],_e=["href"],me={key:3,disabled:"",class:"disabled text-white bg-yellow-500 hover:cursor-pointer rounded-md p-2 px-4 inline-block w-24"},ue=e("hr",null,null,-1),he={class:"flex flex-col my-5"},pe={class:"flex justify-between"},fe={class:"flex"},be=e("h5",{class:"font-bold"},"From:",-1),ve={class:"ml-2"},xe={class:"flex"},ye=e("h5",{class:"font-bold"},"Date:",-1),ke={class:"ml-2"},ge=e("hr",null,null,-1),we={class:"my-5"},Be=["src"],Ce={key:0,class:"mt-8"};function Se(s,d,t,h,r,n){const c=_("Comment"),y=_("CommentBox"),k=_("AppLayout");return o(),f(k,null,{default:b(()=>[e("div",se,[e("div",null,[e("div",oe,[e("div",de,[e("div",ae,[e("div",{onClick:d[0]||(d[0]=(...l)=>n.returnBack&&n.returnBack(...l)),class:"nb-1 cursor-pointer"},re),e("div",ie,[e("h3",null,i(t.thread.subject),1)]),e("div",null,[t.sender.id===s.$page.props.auth.user.id?(o(),a("a",{key:0,class:"text-white mr-1 bg-yellow-600 rounded-md p-2 px-6 inline-block w-24",href:s.route("requests.edit",t.thread.id)},"Edit",8,ce)):m("",!0),t.approved==="null"?(o(),a("a",{key:1,class:"text-white bg-green-500 rounded-md p-2 px-6 inline-block w-24",href:s.route("requests.create",{thread:t.thread.id,user:t.sender.id})},"Reply",8,le)):t.approved==="false"?(o(),a("a",{key:2,class:"text-white bg-yellow-600 rounded-md p-2 px-4 inline-block w-24",href:s.route("requests.approve",{thread:t.thread.id})},"Approve",8,_e)):t.approved==="true"?(o(),a("button",me," Approved ")):m("",!0)])]),ue,e("div",he,[e("div",pe,[e("div",fe,[be,e("div",ve,i(t.sender.name),1)]),e("div",xe,[ye,e("div",ke,i(t.thread.created_at),1)])]),ge,e("div",we,[e("iframe",{class:"w-full h-wide",src:s.route("requests.view",{data:t.request})},null,8,Be)]),this.remarks?(o(),a("div",Ce,[A(y,{onPost:n.submit,thread:t.thread.id},{default:b(()=>[(o(!0),a(I,null,q(t.remarks,l=>(o(),f(c,{data:l,key:l},null,8,["data"]))),128))]),_:1},8,["onPost","thread"])])):m("",!0)])])])])])]),_:1})}const Ie=u(te,[["render",Se]]);export{Ie as default};
